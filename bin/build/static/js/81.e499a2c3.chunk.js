(this["webpackJsonpje-reserve"]=this["webpackJsonpje-reserve"]||[]).push([[84],{1472:function(e,s,a){"use strict";a.r(s);var t=a(179),l=a(180),c=a(185),n=a(181),i=a(183),o=a(1),d=a(673),r=a(825),m=a(826),h=a(739),j=a(842),u=a(685),p=a(679),b=a.n(p),O=a(707),x=a(709),v=a(670),g=a(802),N=a.n(g),C=a(728),k=a(25),f=a(3),y=function(e){Object(n.a)(a,e);var s=Object(i.a)(a);function a(e){var l;return Object(t.a)(this,a),(l=s.call(this,e)).handleAddUser=function(){JSON.parse(localStorage.getItem("token_auth"));var e={username:b()("#email").val(),nom:b()("#nom").val(),prenom:b()("#prenom").val(),email:b()("#email").val(),roles:l.state.role,adresse:b()("#adresse").val(),telephone:b()("#telephone").val(),password:b()("#password").val(),naissance:l.state.date,numeroId:b()("#numeroId").val(),typeId:l.state.document_id,monToken:" ",resetPasswordToken:" ",userDelete:!1,terrains:null,reservations:null},s=document.getElementById("checkCGU");console.log("checkbox",s.checked);var a=""==e.nom||""==e.prenom||""==e.email||""==e.telephone||""==e.password,t={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)};b()("#password").val()!=b()("#password2").val()||""==b()("#password2").val()?(l.setState({message:"Veuillez renseigner des mots de passe identique."}),b()("#echec").css("display","block")):a?(l.setState({message:"Veuillez renseigner les champs obligatoires."}),b()("#echec").css("display","block")):fetch(v.a.url+"user/register",t).then((function(e){return e.json()})).then((function(e){console.log("okkk====>",e);try{!0===e?(alert("Votre compte a \xe9t\xe9 cr\xe9\xe9 avec succ\xe8s."),l.setState({message2:"Votre compte a \xe9t\xe9 cr\xe9\xe9 avec succ\xe8s."}),b()("#success").css("display","block"),l.setState({ok:Object(f.jsx)(k.a,{to:"/login"})})):(l.setState({message:"Ce compte existe d\xe9j\xe0, veuillez renseigner une autre adresse email."}),b()("#echec").css("display","block"))}catch(s){l.setState({message:"Ce compte existe d\xe9j\xe0, veuillez renseigner une autre adresse email."}),b()("#echec").css("display","block"),l.setState({ok:Object(f.jsx)(k.a,{to:"/register"})})}}))},l.handleDate=function(e){0!=e.length&&l.setState({date:e[0]})},l.handleChangeDocument=function(e){console.log("adate =====>",e);try{l.setState({document_id:e.label})}catch(s){}},l.handleNom=function(e){console.log(e.target.value);try{e.target.value?b()("#nom").removeClass("is-invalid"):b()("#nom").addClass("is-invalid")}catch(s){b()("#nom").addClass("is-invalid")}},l.handlePrenom=function(e){console.log(e.target.value);try{e.target.value?b()("#prenom").removeClass("is-invalid"):b()("#prenom").addClass("is-invalid")}catch(s){b()("#prenom").addClass("is-invalid")}},l.handleEmail=function(e){try{e.target.value?b()("#email").removeClass("is-invalid"):b()("#email").addClass("is-invalid")}catch(s){b()("#email").addClass("is-invalid")}},l.handleMDP1=function(e){try{e.target.value?b()("#password").removeClass("is-invalid"):b()("#password").addClass("is-invalid")}catch(s){b()("#password").addClass("is-invalid")}},l.handleMDP2=function(e){try{e.target.value?b()("#password2").removeClass("is-invalid"):b()("#password2").addClass("is-invalid")}catch(s){b()("#password2").addClass("is-invalid")}},l.handleCheckCGU=function(e){try{e.target.value?b()("#checkCGU").removeClass("is-invalid"):b()("#checkCGU").addClass("is-invalid")}catch(s){b()("#checkCGU").addClass("is-invalid")}},l.handleTelephone=function(e){console.log(e.target.value);try{e.target.value?b()("#telephone").removeClass("is-invalid"):b()("#telephone").addClass("is-invalid")}catch(s){b()("#telephone").addClass("is-invalid")}},l.handleRetourAcccueil=function(){l.setState({ok:Object(f.jsx)(k.a,{to:"/accueil-visiteur"})})},l.state={role:{},role_id:{},role_option:{},document:[{value:"CARTE D'IDENTE",label:"CARTE D'IDENTE"},{value:"PASSPORT",label:"PASSPORT"}],document_id:"",ok:"",date:"",message:"Confirmation mot de passe non conforme !",message2:""},l.handleChangeDocument.bind(Object(c.a)(l)),l}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;new Headers,JSON.parse(localStorage.getItem("token_auth"));b()("#echec").css("display","none"),b()("#success").css("display","none");fetch(v.a.url+"user/role/roles",{method:"GET"}).then((function(e){return e.json()})).then((function(s){console.log("okkk====>",s);try{s.length?s.map((function(s){"VISITEUR"==s.libelle&&e.setState({role:s})})):e.setState({role:{}})}catch(a){e.setState({role:{}})}}))}},{key:"render",value:function(){var e=this.state.pick,s=Object(x.a)();return Object(f.jsx)("div",{className:"c-app c-default-layout flex-row align-items-center mt-4",children:Object(f.jsxs)(d.g,{children:[Object(f.jsxs)("button",{onClick:this.handleRetourAcccueil,className:"get-started-btn4 text-white mb-5",children:[" ",Object(f.jsx)("i",{class:"bx bxs-home-smile"}),"  Retour"]}),Object(f.jsx)(d.y,{className:"justify-content-center",children:Object(f.jsx)(d.f,{md:"12",lg:"10",xl:"9",children:Object(f.jsx)(d.d,{className:"mx-4",children:Object(f.jsx)(d.e,{className:"p-4",children:Object(f.jsxs)(d.n,{children:[Object(f.jsx)("h1",{children:"Inscrivez-vous"}),this.state.ok,Object(f.jsxs)(r.a,{children:[Object(f.jsxs)(m.a,{md:"6",className:"mt-2",children:[Object(f.jsx)("small",{children:"Nom"}),Object(f.jsx)(h.a,{className:"form-control is-invalid",type:"text",id:"nom",placeholder:"Nom",onChange:this.handleNom})]}),Object(f.jsxs)(m.a,{md:"6",className:"mt-2",children:[Object(f.jsx)("small",{children:"Pr\xe9nom (s)"}),Object(f.jsx)(h.a,{className:"form-control is-invalid",type:"text",id:"prenom",onChange:this.handlePrenom,placeholder:"Pr\xe9nom (s)"})]})]}),Object(f.jsxs)(r.a,{className:"mt-4",children:[Object(f.jsxs)(m.a,{md:"6",className:"mt-2",children:[Object(f.jsx)("small",{children:"Adresse"}),Object(f.jsx)(h.a,{className:"form-control",type:"text",id:"adresse",placeholder:"Adresse"})]}),Object(f.jsxs)(m.a,{md:"6",className:"mt-2",children:[Object(f.jsx)("small",{children:"Email"}),Object(f.jsx)(h.a,{className:"form-control is-invalid",type:"text",id:"email",onChange:this.handleEmail,placeholder:"Email"})]})]}),Object(f.jsxs)(r.a,{className:"mt-4",children:[Object(f.jsxs)(m.a,{md:"6",className:"mt-2",children:[Object(f.jsx)("small",{children:"Num\xe9ro de t\xe9l\xe9phone"}),Object(f.jsx)(h.a,{className:"form-control is-invalid",onChange:this.handleTelephone,type:"text",id:"telephone",placeholder:"Num\xe9ro de t\xe9l\xe9phone"})]}),Object(f.jsxs)(m.a,{md:"6",className:"mt-2",children:[Object(f.jsx)("small",{children:"Date de naissance"}),Object(f.jsxs)("div",{className:"docs-datepicker",children:[Object(f.jsxs)(j.a,{children:[Object(f.jsx)(N.a,{value:e,className:"form-control d-block",placeholder:"Choisissez la date de naissance",options:{locale:C.French,altInput:!0,altFormat:"d/M/Y"},onChange:this.handleDate}),Object(f.jsx)("div",{className:"input-group-append",children:Object(f.jsx)("button",{type:"button",className:"btn btn-outline-secondary docs-datepicker-trigger",disabled:!0,children:Object(f.jsx)("i",{className:"fa fa-calendar","aria-hidden":"true"})})})]}),Object(f.jsx)("div",{className:"docs-datepicker-container"})]})]})]}),Object(f.jsxs)(r.a,{className:"mt-4 mb-3",children:[Object(f.jsxs)(m.a,{md:"6",className:"mt-2",children:[Object(f.jsx)("small",{children:"Type de document d'identit\xe9"}),Object(f.jsx)(O.a,{closeMenuOnSelect:!0,components:s,onChange:this.handleChangeDocument,options:this.state.document,placeholder:"Choisir le document"})]}),Object(f.jsxs)(m.a,{md:"6",className:"mt-2",children:[Object(f.jsx)("small",{children:"Num\xe9ro d'identit\xe9"}),Object(f.jsx)(h.a,{className:"form-control",type:"text",id:"numeroId",placeholder:"Num\xe9ro d'identit\xe9"})]})]}),Object(f.jsxs)("div",{class:"form-check",children:[Object(f.jsx)("input",{class:"form-check-input",checked:"true",required:!0,type:"checkbox",value:"",id:"checkCGU"}),Object(f.jsxs)("label",{class:"form-check-label",for:"flexCheckDefault",children:["J'accepte les ",Object(f.jsx)("a",{href:"/#/cgu",children:Object(f.jsx)("u",{children:"Conditions g\xe9n\xe9rales d'utilisation de Je-reserve "})}),"."]})]}),Object(f.jsxs)(r.a,{className:"mt-4 mb-4",children:[Object(f.jsx)(m.a,{md:"6",className:"mt-2",children:Object(f.jsxs)(d.t,{className:"mb-3",children:[Object(f.jsx)(d.u,{children:Object(f.jsx)(d.v,{children:Object(f.jsx)(u.a,{name:"cil-lock-locked"})})}),Object(f.jsx)(d.s,{type:"password",className:"form-control is-invalid",id:"password",placeholder:"Mot de passe",autoComplete:"new-password",onChange:this.handleMDP1})]})}),Object(f.jsx)(m.a,{md:"6",className:"mt-2",children:Object(f.jsxs)(d.t,{className:"mb-4",children:[Object(f.jsx)(d.u,{children:Object(f.jsx)(d.v,{children:Object(f.jsx)(u.a,{name:"cil-lock-locked"})})}),Object(f.jsx)(d.s,{type:"password",className:"form-control is-invalid",id:"password2",placeholder:"R\xe9p\xe9tez le mot de passe",onChange:this.handleMDP2})]})})]}),Object(f.jsx)(r.a,{className:"mt-4",children:Object(f.jsx)(m.a,{md:"12",children:Object(f.jsx)("div",{style:{textAlign:"center"},id:"success",class:"alert alert-success",role:"alert",children:this.state.message2})})}),Object(f.jsx)(r.a,{className:"mt-4",children:Object(f.jsx)(m.a,{md:"12",children:Object(f.jsx)("div",{style:{textAlign:"center"},id:"echec",class:"alert alert-danger",role:"alert",children:this.state.message})})}),Object(f.jsx)("a",{onClick:this.handleAddUser,class:"get-started-btn4 text-white text-center a btn-block",children:"Cr\xe9er mon compte"})]})})})})})]})})}}]),a}(o.Component);s.default=y},670:function(e,s,a){"use strict";s.a={type_tournoi:{TOURNOI_INTER_ECOLE:"TOURNOI_INTER_ECOLE",TOURNOI_INTER_ENTREPRISE:"TOURNOI_INTER_ENTREPRISE"},url:"https://jereserve.herokuapp.com/"}}}]);
//# sourceMappingURL=84.5db3ab39.chunk.js.map